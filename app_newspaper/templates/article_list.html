<!--templates/article_list.html-->

{% extends "base.html" %}

{% block title %}Articles{% endblock title %}

{% block content %}
    {% for article in article_list %}
        <div class="card">
                <span class="font-weight-bold">
                    {{article.title}}
                </span>
                <span class="text-muted">by {{article.author}}|
                    {{article.date}}
                </span>
            <div class="card-body">
                {{article.body}}
                <a href="{% url 'article_edit' article.pk %}">Edit</a> | 
                <a href="{% url 'article_delete' article.pk %}">Delete</a>|
                <a href="{% url 'article_detail' article.pk%}">comment</a>
            </div>
            <div class="collapse" id="navbarToggleExternalContent">
                <div class="p-4">
                  <h5 class="text-white h4">Comments</h5>
                    {%for comment in article.comment_set.all%}
                    <p>
                
                        <span class="font-weight-bold">
                            {{comment.author}}&middot;
                            {{comment}}
                        </span>
                        
                    </p>
                    {%endfor%}
                </div>
              </div>
              <nav class="navbar bg-light">
                <div class="container-fluid">
                  <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarToggleExternalContent" aria-controls="navbarToggleExternalContent" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar">Comments</span>
                  </button>
                </div>
              </nav>
        </div>
        <br/>
    {% endfor %}
{% endblock content %}